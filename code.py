import streamlit as st

st.set_page_config(page_title="é–“æ¥è©±æ³•ãƒã‚¹ã‚¿ãƒ¼", layout="wide")

# --- Emojis for visual aid ---
speech_bubble = "ğŸ’¬"
light_bulb = "ğŸ’¡"
warning_sign = "âš ï¸"
pencil = "âœï¸"
books = "ğŸ“š"
star = "â­"
graduation_cap = "ğŸ“"

st.title(f"{speech_bubble} ã€ä¸­2è‹±èªã€‘é–“æ¥è©±æ³•ãƒã‚¹ã‚¿ãƒ¼ï¼ï½èª°ãŒä½•ã‚’è¨€ã£ãŸã‹ãªï¼Ÿï½")
st.caption("ã“ã®ãƒšãƒ¼ã‚¸ã¯ã€æˆæ¥­ã§ä½¿ã†ã€Œé–“æ¥è©±æ³•ã€ã®ã¾ã¨ã‚ã§ã™ã€‚ã—ã£ã‹ã‚Šç†è§£ã—ã¦ã€ãƒ†ã‚¹ãƒˆã‚„å—é¨“ã«å½¹ç«‹ã¦ã‚ˆã†ï¼")

st.markdown("---")

# --- 1. é–“æ¥è©±æ³•ã£ã¦ä½•ï¼Ÿ ---
st.header(f"{light_bulb} 1. é–“æ¥è©±æ³•ã£ã¦ä½•ï¼Ÿ")
st.markdown("""
**ç›´æ¥è©±æ³• (Direct Speech)**: äººãŒè¨€ã£ãŸã€Œã‚»ãƒªãƒ•ã€ã‚’ãã®ã¾ã¾ `â€œ â€` (ã‚¯ã‚©ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚¯) ã‚’ä½¿ã£ã¦ä¼ãˆã‚‹æ–¹æ³•ã€‚
* ä¾‹: He said, **"I am tired."** (å½¼ã¯ã€Œç§ã¯ç–²ã‚Œã¦ã„ã¾ã™ã€ã¨è¨€ã„ã¾ã—ãŸã€‚)

**é–“æ¥è©±æ³• (Indirect Speech / Reported Speech)**: äººãŒè¨€ã£ãŸã€Œã‚»ãƒªãƒ•ã€ã®å†…å®¹ã‚’ã€ä»–ã®äººã«ä¼ãˆã‚‹å½¢ã§è¡¨ç¾ã™ã‚‹æ–¹æ³•ã€‚`â€œ â€` ã¯ä½¿ã‚ãªã„ã€‚
* ä¾‹: He said **that he was tired.** (å½¼ã¯ç–²ã‚Œã¦ã„ã‚‹ã¨è¨€ã„ã¾ã—ãŸã€‚)
* ãƒã‚¤ãƒ³ãƒˆ: `that` ã¯ã€Œï½ã¨ã„ã†ã“ã¨ã€ã¨ã„ã†æ„å‘³ã€‚ãµã¤ã†ã®æ–‡ï¼ˆè‚¯å®šæ–‡ï¼‰ã‚’é–“æ¥è©±æ³•ã«ã™ã‚‹ã¨ãã«ã‚ˆãä½¿ã‚ã‚Œã‚‹ã‘ã©ã€çœç•¥ã§ãã‚‹ã“ã¨ã‚‚å¤šã„ã‚ˆï¼
""")

st.markdown("---")

# --- 2. åŸºæœ¬ã®å½¢ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼ ---
st.header(f"{books} 2. åŸºæœ¬ã®å½¢ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼")
st.markdown("ä¼ãˆãŸã„ã€Œã‚»ãƒªãƒ•ã€ã®ç¨®é¡ã«ã‚ˆã£ã¦ã€é–“æ¥è©±æ³•ã®å½¢ãŒå¤‰ã‚ã‚‹ã‚ˆã€‚")

st.subheader("ğŸ“ è¡¨ã§ãƒã‚§ãƒƒã‚¯ï¼åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³")
table_data = {
    "ç¨®é¡": [
        "**ãµã¤ã†ã®æ–‡** (Statement)",
        "**Yes/Noç–‘å•æ–‡** (Yes/No Question)",
        "**ç–‘å•è©ã®ç–‘å•æ–‡** (Wh- Question)",
        "**å‘½ä»¤æ–‡** (Imperative)"
    ],
    "ç›´æ¥è©±æ³• (ä¾‹)": [
        'She said, **"I** study math."',
        'He said to me, **"Are** you busy?"',
        'She said to me, **"Where do** you live?"',
        'He said to me, **"Open** the door."\n\nShe said to me, **"Don\'t** run."'
    ],
    "é–“æ¥è©±æ³• (ä¾‹)": [
        'She said (that) **she** studied math.',
        'He asked me **if I was** busy.\n(He asked me **whether I was** busy.)',
        'She asked me **where I lived**.',
        'He told me **to open** the door.\n\nShe told me **not to** run.'
    ],
    "ãƒã‚¤ãƒ³ãƒˆè§£èª¬": [
        "`say` ã®å¾Œã‚ã« `(that) + ä¸»èª + å‹•è©`ã€‚å‹•è©ã®å½¢ã‚„ä»£åè©ãŒå¤‰ã‚ã‚‹ï¼",
        "`ask äºº if [whether] ä¸»èª + å‹•è©...`ã€‚\n`if` ã‹ `whether` ã‚’ä½¿ã†ã€‚ã€Œï½ã‹ã©ã†ã‹ã€ã¨ã„ã†æ„å‘³ã€‚\nèªé †ã¯ã€Œä¸»èª + å‹•è©ã€ã«ãªã‚‹ã®ãŒè¶…é‡è¦ï¼",
        "`ask äºº ç–‘å•è© + ä¸»èª + å‹•è©...`ã€‚\nç–‘å•è©ã¯ãã®ã¾ã¾ä½¿ã†ã€‚\nã“ã‚Œã‚‚èªé †ã¯ã€Œä¸»èª + å‹•è©ã€ï¼",
        "è‚¯å®šã®å‘½ä»¤: `tell äºº to å‹•è©ã®åŸå½¢`\nå¦å®šã®å‘½ä»¤: `tell äºº not to å‹•è©ã®åŸå½¢`\nä¸å¯§ãªä¾é ¼ãªã‚‰ `ask äºº to ...` ã‚‚ä½¿ã†ã‚ˆã€‚"
    ]
}
st.table(table_data)

st.markdown("---")

# --- 3. ã‚³ã‚³ãŒå¤‰ã‚ã‚‹ï¼æ³¨æ„ãƒã‚¤ãƒ³ãƒˆ ---
st.header(f"{warning_sign} 3. ã‚³ã‚³ãŒå¤‰ã‚ã‚‹ï¼æ³¨æ„ãƒã‚¤ãƒ³ãƒˆ")

st.subheader("â‘  æ™‚åˆ¶ã®ä¸€è‡´ (Sequence of Tenses)")
st.markdown("""
ã€Œå½¼ãŒè¨€ã£ãŸã€ã€Œå½¼å¥³ã¯å°‹ã­ãŸã€ã®ã‚ˆã†ã«ã€ä¼ãˆã‚‹å‹•è© (said, told, asked) ãŒéå»å½¢ã®ã¨ãã€ã‚»ãƒªãƒ•ã®ä¸­ã®å‹•è©ã‚‚éå»ã®å½¢ã«åˆã‚ã›ã‚‹ã®ãŒåŸºæœ¬ãƒ«ãƒ¼ãƒ«ï¼ ã“ã‚Œã‚’**æ™‚åˆ¶ã®ä¸€è‡´**ã¨ã„ã†ã‚ˆã€‚

* `am / is` â†’ **`was`**
* `are` â†’ **`were`**
* ç¾åœ¨å½¢ã®å‹•è© (ä¾‹: `study`, `go`) â†’ **éå»å½¢ã®å‹•è©** (ä¾‹: `studied`, `went`)
* `will` â†’ **`would`**
* `can` â†’ **`could`**
* `may` â†’ **`might`**
* `have / has + éå»åˆ†è©` (ç¾åœ¨å®Œäº†) â†’ **`had + éå»åˆ†è©`** (éå»å®Œäº†)

â€»ã§ã‚‚ã€ä¸‹ã§èª¬æ˜ã™ã‚‹ã€Œä¾‹å¤–ã€ã‚‚ã‚ã‚‹ã‹ã‚‰æ³¨æ„ï¼
""")

st.subheader("â‘¡ ä»£åè© (Pronouns)")
st.markdown("""
èª°ãŒè©±ã—ã¦ã„ã‚‹ã®ã‹ã€èª°ã«è©±ã—ã¦ã„ã‚‹ã®ã‹ã«ã‚ˆã£ã¦ã€ã‚»ãƒªãƒ•ã®ä¸­ã® `I`, `my`, `me`, `you` ãªã©ãŒå¤‰ã‚ã‚‹ã‚ˆã€‚æ–‡å…¨ä½“ã®æ„å‘³ã‚’è€ƒãˆã¦ã€é©åˆ‡ãªä»£åè©ã‚’é¸ã¼ã†ï¼
* ä¾‹: He said to me, "**I** like **your** bike."
    * â†’ He told me that **he** liked **my** bike.
""")

st.subheader("â‘¢ æ™‚ãƒ»å ´æ‰€ã‚’è¡¨ã™è¨€è‘‰ (Time and Place expressions)")
st.markdown("""
ã‚»ãƒªãƒ•ãŒè¨€ã‚ã‚ŒãŸæ™‚ãƒ»å ´æ‰€ã¨ã€ãã‚Œã‚’ä¼ãˆã¦ã„ã‚‹æ™‚ãƒ»å ´æ‰€ãŒé•ã†å ´åˆã€ã“ã‚Œã‚‰ã®è¨€è‘‰ã‚‚å¤‰ã‚ã‚‹ã“ã¨ãŒå¤šã„ã‚ˆã€‚
* `now` (ä»Š) â†’ **`then`** (ãã®æ™‚)
* `today` (ä»Šæ—¥) â†’ **`that day`** (ãã®æ—¥)
* `yesterday` (æ˜¨æ—¥) â†’ **`the day before`** / **`the previous day`** (å‰ã®æ—¥)
* `tomorrow` (æ˜æ—¥) â†’ **`the next day`** / **`the following day`** (æ¬¡ã®æ—¥)
* `this / these` (ã“ã‚Œ/ã“ã‚Œã‚‰) â†’ **`that / those`** (ãã‚Œ/ãã‚Œã‚‰)
* `here` (ã“ã“ã«) â†’ **`there`** (ãã“ã«)
* `... ago` (ï½å‰ã«) â†’ **`... before`** (ï½å‰ã«)
""")
st.markdown("ä¾‹: \"I will call you **tomorrow**,\" she said. â†’ She said she would call me **the next day**.")

st.markdown("---")

# --- è±†çŸ¥è­˜ï¼†å—é¨“ã®ãƒ’ãƒ³ãƒˆ ---
st.header(f"{graduation_cap} 4. è±†çŸ¥è­˜ï¼†å—é¨“ã®ãƒ’ãƒ³ãƒˆ")

st.subheader(f"{star} è±†çŸ¥è­˜1ï¼šãªãœé–“æ¥è©±æ³•ã‚’ä½¿ã†ã®ï¼Ÿ")
st.markdown("""
ãŠè©±ã‚„ãƒ‹ãƒ¥ãƒ¼ã‚¹è¨˜äº‹ã€æ—¥å¸¸ä¼šè©±ãªã©ã§ã€èª°ã‹ãŒè¨€ã£ãŸã“ã¨ã‚’ä»–ã®äººã«åˆ†ã‹ã‚Šã‚„ã™ãã€ãã—ã¦ã‚¹ãƒ ãƒ¼ã‚ºã«ä¼ãˆã‚‹ãŸã‚ã«é–“æ¥è©±æ³•ã¯ã¨ã¦ã‚‚ä¾¿åˆ©ã ã‚ˆã€‚é•·ã„ä¼šè©±ã‚„è¤‡æ•°ã®äººã®ç™ºè¨€ã‚’ã¾ã¨ã‚ã‚‹ã¨ãã«ã‚‚å½¹ç«‹ã¤ã‚“ã ã€‚
""")

st.subheader(f"{star} è±†çŸ¥è­˜2ï¼šã€Œthatã€ã¯ã„ã¤çœç•¥ã§ãã‚‹ï¼Ÿ")
st.markdown("""
ãµã¤ã†ã®æ–‡ï¼ˆè‚¯å®šæ–‡ï¼‰ã‚’é–“æ¥è©±æ³•ã«ã™ã‚‹ã¨ãã«ä½¿ã†æ¥ç¶šè©ã® `that` ã¯ã€ç‰¹ã«ä¼šè©±ãªã©ã®ãã ã‘ãŸå ´é¢ã§ã¯ã‚ˆãçœç•¥ã•ã‚Œã‚‹ã‚ˆã€‚ã€ŒShe said (that) she was happy.ã€ã®ã‚ˆã†ã«ã€`that` ãŒã‚ã£ã¦ã‚‚ãªãã¦ã‚‚æ„å‘³ã¯é€šã˜ã‚‹ã‚“ã ã€‚ãŸã ã—ã€ãƒ•ã‚©ãƒ¼ãƒãƒ«ãªæ–‡ç« ã§ã¯ `that` ã‚’å…¥ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã‚ˆã€‚
""")

st.subheader(f"{graduation_cap} å—é¨“ã®ãƒ’ãƒ³ãƒˆ1ï¼šæ™‚åˆ¶ã®ä¸€è‡´ã®ã€Œä¾‹å¤–ã€ã«æ³¨æ„ï¼")
st.markdown("""
æ™‚åˆ¶ã®ä¸€è‡´ã«ã¯å¤§äº‹ãªä¾‹å¤–ãŒã‚ã‚‹ï¼ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆã§ã‚ˆãç‹™ã‚ã‚Œã‚‹ãƒã‚¤ãƒ³ãƒˆã ã‚ˆã€‚
1.  **æ™®éã®çœŸç†ãƒ»å¤‰ã‚ã‚‰ãªã„äº‹å®Ÿ**: åœ°çƒãŒä¸¸ã„ã€ï¼‘å¹´ã¯12ãƒ¶æœˆãªã©ã€æ˜”ã‚‚ä»Šã‚‚å¤‰ã‚ã‚‰ãªã„äº‹å®Ÿã€‚
    * He said, "The earth **is** round." â†’ He said that the earth **is** round. (âŒ `was` ã«ã—ãªã„)
2.  **ç¾åœ¨ã®ç¿’æ…£çš„ãªè¡Œç‚º**: ä»Šã‚‚å¤‰ã‚ã‚‰ãšç¶šã‘ã¦ã„ã‚‹ç¿’æ…£ã€‚
    * She said, "I **get up** at six every day." â†’ She said that she **gets up** at six every day. (å½¼å¥³ãŒä»Šã‚‚ãã®ç¿’æ…£ã‚’ç¶šã‘ã¦ã„ã‚‹ãªã‚‰ âŒ `got up` ã«ã—ãªã„ã“ã¨ãŒå¤šã„)
3.  **æ­´å²ä¸Šã®äº‹å®Ÿ**: éå»ã«èµ·ã“ã£ãŸæ­´å²çš„ãªå‡ºæ¥äº‹ã€‚
    * Our teacher said, "World War II **ended** in 1945." â†’ Our teacher said that World War II **ended** in 1945. (å…ƒã€…éå»å½¢ãªã®ã§ã€éå»å®Œäº†ã«ã¯ã—ãªã„)
""")

st.subheader(f"{graduation_cap} å—é¨“ã®ãƒ’ãƒ³ãƒˆ2ï¼šé–“æ¥ç–‘å•æ–‡ã®èªé †ã¯é‰„å‰‡ï¼")
st.markdown("""
é–“æ¥è©±æ³•ã§ç–‘å•æ–‡ã‚’ä¼ãˆã‚‹ã¨ãï¼ˆé–“æ¥ç–‘å•æ–‡ï¼‰ã®èªé †ã¯ã€**`[ask äºº] + ç–‘å•è© / if / whether + ä¸»èª + å‹•è© ...`** ã®å½¢ãŒçµ¶å¯¾ï¼
å…ƒã®ç–‘å•æ–‡ãŒ `Are you ...?` ã‚„ `Do you ...?` ã®ã‚ˆã†ãªèªé †ã§ã‚‚ã€é–“æ¥ç–‘å•æ–‡ã§ã¯å¿…ãšã€Œä¸»èª + å‹•è©ã€ã®æ™®é€šã®æ–‡ã®èªé †ã«æˆ»ã™ã“ã¨ã€‚ã“ã‚Œã¯å…¥è©¦ã§ã‚‚é »å‡ºã ã‹ã‚‰ã€ä½•åº¦ã‚‚ç·´ç¿’ã—ã¦å®Œç’§ã«ã—ã‚ˆã†ï¼
* é–“é•ã„ã‚„ã™ã„ä¾‹: He asked me where **did I live**. (âŒ)
* æ­£ã—ã„å½¢: He asked me where **I lived**. (â­•ï¸)
""")

st.subheader(f"{graduation_cap} å—é¨“ã®ãƒ’ãƒ³ãƒˆ3ï¼šã€Œsayã€ã¨ã€Œtellã€ã®ä½¿ã„åˆ†ã‘ã‚’ãƒã‚¹ã‚¿ãƒ¼ï¼")
st.markdown("""
* **`tell`**: å¾Œã‚ã«å¿…ãšã€Œèª°ã«ã€ä¼ãˆã‚‹ã‹ã‚’è¡¨ã™ç›®çš„èª (ä¾‹: `me`, `him`, `Tom`) ãŒæ¥ã‚‹ã€‚
    * `tell äºº (that) ...` (äººã«ï½ã ã¨è¨€ã†)
    * ä¾‹: He **told me** (that) he was sleepy.
* **`say`**: å¾Œã‚ã«ã€Œèª°ã«ã€ã‚’ç›´æ¥ç¶šã‘ã‚‹ã“ã¨ã¯åŸºæœ¬çš„ã«ãªã„ã€‚
    * `say (that) ...` (ï½ã ã¨è¨€ã†)
    * ä¾‹: He **said** (that) he was sleepy.
    * ã‚‚ã— `say` ã§ã€Œèª°ã«ã€ã‚’è¨€ã„ãŸã„å ´åˆã¯ `say to äºº (that) ...` ã¨ãªã‚‹ã‘ã©ã€é–“æ¥è©±æ³•ã§ã¯ `tell äºº` ã‚’ä½¿ã†æ–¹ãŒãšã£ã¨è‡ªç„¶ã ã‚ˆã€‚
""")

st.markdown("---")

# --- ç·´ç¿’ã—ã¦ã¿ã‚ˆã†ï¼ ---
st.header(f"{pencil} 5. ç·´ç¿’ã—ã¦ã¿ã‚ˆã†ï¼")
st.markdown("æ¬¡ã®æ–‡ã‚’é–“æ¥è©±æ³•ã«æ›¸ãæ›ãˆã¦ã¿ã‚ˆã†ã€‚ç­”ãˆã¯ã™ãä¸‹ã«ã‚ã‚‹ã‚ˆï¼")

practice_questions = [
    ("Ken said, \"I play soccer.\"", "Ken said that **he played soccer**."),
    ("She said to me, \"Are you a student?\"", "She asked me **if I was a student**.\n(She asked me **whether I was a student**.)"),
    ("My mother said to me, \"Study hard.\"", "My mother told me **to study hard**."),
    ("He said, \"I will go to the park tomorrow.\"", "He said that **he would go to the park the next day**."),
    ("Yumi said to us, \"Where did you find this old coin?\"", "Yumi asked us **where we had found that old coin**.\n(ã¾ãŸã¯ã€æ–‡è„ˆã«ã‚ˆã‚Š Yumi asked us where we found that old coin. ã‚‚å¯)")
]

for i, (q, a) in enumerate(practice_questions):
    st.subheader(f"å•é¡Œ {i+1}")
    st.markdown(f"Q: {q}")
    with st.expander("ç­”ãˆã‚’è¦‹ã‚‹"):
        st.markdown(f"A: {a}")
    st.write("") # Add a little space

st.markdown("---")
st.success("ã“ã‚Œã§é–“æ¥è©±æ³•ã®åŸºæœ¬ã¯ãƒãƒƒãƒãƒªï¼ä½•åº¦ã‚‚å¾©ç¿’ã—ã¦ã€è‡ªåˆ†ã®ã‚‚ã®ã«ã—ã‚ˆã†ï¼ ğŸ’ª")
st.balloons()
